{"remainingRequest":"D:\\dev\\house-price-generator\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\dev\\house-price-generator\\src\\components\\Captcha.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\dev\\house-price-generator\\src\\components\\Captcha.vue","mtime":1686118035791},{"path":"D:\\dev\\house-price-generator\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1686117401432},{"path":"D:\\dev\\house-price-generator\\node_modules\\babel-loader\\lib\\index.js","mtime":1686117404080},{"path":"D:\\dev\\house-price-generator\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1686117401432},{"path":"D:\\dev\\house-price-generator\\node_modules\\vue-loader\\lib\\index.js","mtime":1686117404688}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOw0KDQpleHBvcnQgZGVmYXVsdCB7DQogICAgbmFtZTogIkNhcHRjaGEiLA0KICAgIGRhdGEoKSB7DQogICAgICAgIHJldHVybiB7DQogICAgICAgICAgICBzdGFydDogMCwNCiAgICAgICAgICAgIHN0YXJ0WTogMCwNCiAgICAgICAgICAgIG1vdmVQZXJjZW50OiAwLA0KICAgICAgICAgICAgYmdJbWdXaWR0aDogMjYwLA0KICAgICAgICAgICAgZW5kOiAyMDYsDQogICAgICAgICAgICBzdGFydFNsaWRpbmdUaW1lOiBudWxsLA0KICAgICAgICAgICAgZW50U2xpZGluZ1RpbWU6IG51bGwsDQogICAgICAgICAgICB0cmFja0FycjogW10sDQogICAgICAgICAgICBiYWNrZ3JvdW5kSW1hZ2U6ICcnLA0KICAgICAgICAgICAgc2xpZGVySW1hZ2U6ICcnLA0KICAgICAgICAgICAgc2xpZGVyTW92ZUJ0bjogbnVsbCwNCiAgICAgICAgICAgIHNsaWRlckltZ0RpdjogbnVsbCwNCg0KICAgICAgICB9DQogICAgfSwNCiAgICBwcm9wczogew0KICAgICAgICBjYXB0Y2hhQmFzZU9iajogbnVsbA0KICAgIH0sDQogICAgbW91bnRlZCgpIHsNCiAgICAgICAgdGhpcy5zbGlkZXJNb3ZlQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3NsaWRlci1tb3ZlLWJ0bicpDQogICAgICAgIHRoaXMuc2xpZGVySW1nRGl2ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3NsaWRlci1pbWctZGl2JykNCiAgICB9LA0KICAgIG1ldGhvZHM6IHsNCiAgICAgICAgcmVmcmVzaENhcHRjaGEoKSB7DQogICAgICAgICAgICB0aGlzLiRlbWl0KCdyZWZyZXNoQ2FwdGNoYScpDQogICAgICAgIH0sDQogICAgICAgIGNsb3NlQ2FwdGNoYSgpIHsNCiAgICAgICAgICAgIHRoaXMuJGVtaXQoJ2Nsb3NlQ2FwdGNoYScpDQogICAgICAgIH0sDQogICAgICAgIHJlc2V0KCkgew0KICAgICAgICAgICAgdGhpcy5zbGlkZXJNb3ZlQnRuLnN0eWxlLmJhY2tncm91bmRQb3NpdGlvbiA9ICItNXB4IDExLjc5NjI1JSINCiAgICAgICAgICAgIHRoaXMuc2xpZGVyTW92ZUJ0bi5zdHlsZS50cmFuc2Zvcm0gPSAidHJhbnNsYXRlKDBweCwgMHB4KSINCiAgICAgICAgICAgIHRoaXMuc2xpZGVySW1nRGl2LnN0eWxlLnRyYW5zZm9ybSA9ICJ0cmFuc2xhdGUoMHB4LCAwcHgpIg0KICAgICAgICAgICAgdGhpcy5zdGFydCA9IDA7DQogICAgICAgICAgICB0aGlzLnN0YXJ0U2xpZGluZ1RpbWUgPSBudWxsOw0KICAgICAgICAgICAgdGhpcy5lbnRTbGlkaW5nVGltZSA9IG51bGw7DQogICAgICAgICAgICB0aGlzLnRyYWNrQXJyID0gW107DQogICAgICAgICAgICB0aGlzLm1vdmVQZXJjZW50ID0gMDsNCiAgICAgICAgICAgIHRoaXMuc3RhcnRZID0gMDsNCiAgICAgICAgfSwNCg0KICAgICAgICBzbGlkZXJNb3ZlQnRuVG91Y2hzdGFydChldmVudCkgew0KICAgICAgICAgICAgbGV0IHRhcmdldFRvdWNoZXMgPSBldmVudC5vcmlnaW5hbEV2ZW50ID8gZXZlbnQub3JpZ2luYWxFdmVudC50YXJnZXRUb3VjaGVzIDogZXZlbnQudGFyZ2V0VG91Y2hlczsNCiAgICAgICAgICAgIHRoaXMuc3RhcnRTbGlkaW5nVGltZSA9IG5ldyBEYXRlKCk7DQogICAgICAgICAgICB0aGlzLnN0YXJ0ID0gZXZlbnQucGFnZVg7DQogICAgICAgICAgICB0aGlzLnN0YXJ0WSA9IGV2ZW50LnBhZ2VZOw0KICAgICAgICAgICAgaWYgKHN0YXJ0ID09PSB1bmRlZmluZWQpIHsNCiAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0ID0gdGFyZ2V0VG91Y2hlc1swXS5wYWdlWA0KICAgICAgICAgICAgICAgIHRoaXMuc3RhcnRZID0gdGFyZ2V0VG91Y2hlc1swXS5wYWdlWTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHRoaXMuc2xpZGVyTW92ZUJ0bi5zdHlsZS5iYWNrZ3JvdW5kUG9zaXRpb24gPSAiLTVweCAzMS4wMDkyJSINCiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJ0b3VjaG1vdmUiLCB0aGlzLm1vdmUpOw0KICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoInRvdWNoZW5kIiwgdGhpcy51cCk7DQogICAgICAgIH0sDQogICAgICAgIHNsaWRlck1vdmVCdG5Nb3VzZURvd24oZXZlbnQpIHsNCiAgICAgICAgICAgIHRoaXMuc3RhcnRTbGlkaW5nVGltZSA9IG5ldyBEYXRlKCk7DQogICAgICAgICAgICB0aGlzLnN0YXJ0ID0gZXZlbnQucGFnZVg7DQogICAgICAgICAgICB0aGlzLnN0YXJ0WSA9IGV2ZW50LnBhZ2VZOw0KICAgICAgICAgICAgZXZlbnQudGFyZ2V0LnN0eWxlLmJhY2tncm91bmRQb3NpdGlvbiA9ICItNXB4IDMxLjAwOTIlIg0KICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNlbW92ZSIsIHRoaXMubW92ZSk7DQogICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigibW91c2V1cCIsIHRoaXMudXApOw0KICAgICAgICB9LA0KDQogICAgICAgIG1vdmUoZXZlbnQpIHsNCiAgICAgICAgICAgIGlmIChldmVudCBpbnN0YW5jZW9mIFRvdWNoRXZlbnQpIHsNCiAgICAgICAgICAgICAgICBldmVudCA9IGV2ZW50LnRvdWNoZXNbMF07DQogICAgICAgICAgICB9DQogICAgICAgICAgICBsZXQgbW92ZVggPSBldmVudC5wYWdlWCAtIHRoaXMuc3RhcnQ7DQogICAgICAgICAgICBsZXQgcGFnZVggPSBldmVudC5wYWdlWDsNCiAgICAgICAgICAgIGxldCBwYWdlWSA9IGV2ZW50LnBhZ2VZOw0KICAgICAgICAgICAgdGhpcy50cmFja0Fyci5wdXNoKHsNCiAgICAgICAgICAgICAgICB4OiBwYWdlWCAtIHRoaXMuc3RhcnQsDQogICAgICAgICAgICAgICAgeTogcGFnZVkgLSB0aGlzLnN0YXJ0WSwNCiAgICAgICAgICAgICAgICB0OiAobmV3IERhdGUoKS5nZXRUaW1lKCkgLSB0aGlzLnN0YXJ0U2xpZGluZ1RpbWUuZ2V0VGltZSgpKQ0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgICBpZiAobW92ZVggPCAwKSB7DQogICAgICAgICAgICAgICAgbW92ZVggPSAwOw0KICAgICAgICAgICAgfSBlbHNlIGlmIChtb3ZlWCA+IHRoaXMuZW5kKSB7DQogICAgICAgICAgICAgICAgbW92ZVggPSB0aGlzLmVuZDsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHRoaXMuc2xpZGVyTW92ZUJ0bi5zdHlsZS50cmFuc2Zvcm0gPSAidHJhbnNsYXRlKCIgKyBtb3ZlWCArICJweCwgMHB4KSINCiAgICAgICAgICAgIHRoaXMuc2xpZGVySW1nRGl2LnN0eWxlLnRyYW5zZm9ybSA9ICJ0cmFuc2xhdGUoIiArIG1vdmVYICsgInB4LCAwcHgpIg0KICAgICAgICAgICAgdGhpcy5tb3ZlUGVyY2VudCA9IG1vdmVYIC8gdGhpcy5iZ0ltZ1dpZHRoOw0KICAgICAgICB9LA0KICAgICAgICB1cCgpIHsNCiAgICAgICAgICAgIHRoaXMuZW50U2xpZGluZ1RpbWUgPSBuZXcgRGF0ZSgpOw0KICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoIm1vdXNlbW92ZSIsIHRoaXMubW92ZSk7DQogICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigibW91c2V1cCIsIHRoaXMudXApOw0KICAgICAgICAgICAgdGhpcy52YWxpZCgpOw0KICAgICAgICB9LA0KICAgICAgICB2YWxpZCgpIHsNCiAgICAgICAgICAgIGxldCBzbGlkZXJJbWdEaXYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2xpZGVyLWltZy1kaXYnKQ0KICAgICAgICAgICAgbGV0IGltYWdlQ2FwdGNoYVRyYWNrID0gew0KICAgICAgICAgICAgICAgIGJnSW1hZ2VXaWR0aDogdGhpcy5iZ0ltZ1dpZHRoLA0KICAgICAgICAgICAgICAgIGJnSW1hZ2VIZWlnaHQ6IHNsaWRlckltZ0Rpdi5jbGllbnRIZWlnaHQsDQogICAgICAgICAgICAgICAgc2xpZGVySW1hZ2VXaWR0aDogc2xpZGVySW1nRGl2LmNsaWVudFdpZHRoLA0KICAgICAgICAgICAgICAgIHNsaWRlckltYWdlSGVpZ2h0OiBzbGlkZXJJbWdEaXYuY2xpZW50SGVpZ2h0LA0KICAgICAgICAgICAgICAgIHN0YXJ0U2xpZGluZ1RpbWU6IHRoaXMuc3RhcnRTbGlkaW5nVGltZSwNCiAgICAgICAgICAgICAgICBlbnRTbGlkaW5nVGltZTogdGhpcy5lbnRTbGlkaW5nVGltZSwNCiAgICAgICAgICAgICAgICB0cmFja0xpc3Q6IHRoaXMudHJhY2tBcnINCiAgICAgICAgICAgIH07DQogICAgICAgICAgICB0aGlzLiRlbWl0KCdjYXB0Y2hhVHJhY2snLCBpbWFnZUNhcHRjaGFUcmFjaykNCiAgICAgICAgfQ0KICAgIH0NCn0NCg=="},{"version":3,"sources":["Captcha.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AA2BA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Captcha.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n    <div class=\"slider\">\r\n\r\n        <div class=\"content\" v-loading=\"captchaBaseObj === null\">\r\n            <div class=\"bg-img-div\">\r\n                <img id=\"bg-img\" v-if=\"captchaBaseObj\" :src=\"captchaBaseObj.backgroundImage\" alt/>\r\n            </div>\r\n            <div class=\"slider-img-div\" id=\"slider-img-div\">\r\n                <img id=\"slider-img\" v-if=\"captchaBaseObj\" :src=\"captchaBaseObj.sliderImage\" alt/>\r\n            </div>\r\n        </div>\r\n        <div class=\"slider-move\">\r\n            <div class=\"slider-move-track\">拖动滑块完成拼图</div>\r\n            <div class=\"slider-move-btn\"\r\n                 @mousedown=\"sliderMoveBtnMouseDown\"\r\n                 @touchstart=\"sliderMoveBtnTouchstart\"\r\n                 id=\"slider-move-btn\"></div>\r\n        </div>\r\n        <div class=\"bottom\">\r\n            <div class=\"close-btn\" id=\"slider-close-btn\" @click=\"closeCaptcha\"><i class=\"el-icon-close\"></i></div>\r\n            <div class=\"refresh-btn\" id=\"slider-refresh-btn\" @click=\"refreshCaptcha\"><i\r\n                class=\"el-icon-refresh-right\"></i></div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\n\r\nexport default {\r\n    name: \"Captcha\",\r\n    data() {\r\n        return {\r\n            start: 0,\r\n            startY: 0,\r\n            movePercent: 0,\r\n            bgImgWidth: 260,\r\n            end: 206,\r\n            startSlidingTime: null,\r\n            entSlidingTime: null,\r\n            trackArr: [],\r\n            backgroundImage: '',\r\n            sliderImage: '',\r\n            sliderMoveBtn: null,\r\n            sliderImgDiv: null,\r\n\r\n        }\r\n    },\r\n    props: {\r\n        captchaBaseObj: null\r\n    },\r\n    mounted() {\r\n        this.sliderMoveBtn = document.querySelector('#slider-move-btn')\r\n        this.sliderImgDiv = document.querySelector('#slider-img-div')\r\n    },\r\n    methods: {\r\n        refreshCaptcha() {\r\n            this.$emit('refreshCaptcha')\r\n        },\r\n        closeCaptcha() {\r\n            this.$emit('closeCaptcha')\r\n        },\r\n        reset() {\r\n            this.sliderMoveBtn.style.backgroundPosition = \"-5px 11.79625%\"\r\n            this.sliderMoveBtn.style.transform = \"translate(0px, 0px)\"\r\n            this.sliderImgDiv.style.transform = \"translate(0px, 0px)\"\r\n            this.start = 0;\r\n            this.startSlidingTime = null;\r\n            this.entSlidingTime = null;\r\n            this.trackArr = [];\r\n            this.movePercent = 0;\r\n            this.startY = 0;\r\n        },\r\n\r\n        sliderMoveBtnTouchstart(event) {\r\n            let targetTouches = event.originalEvent ? event.originalEvent.targetTouches : event.targetTouches;\r\n            this.startSlidingTime = new Date();\r\n            this.start = event.pageX;\r\n            this.startY = event.pageY;\r\n            if (start === undefined) {\r\n                this.start = targetTouches[0].pageX\r\n                this.startY = targetTouches[0].pageY;\r\n            }\r\n            this.sliderMoveBtn.style.backgroundPosition = \"-5px 31.0092%\"\r\n            window.addEventListener(\"touchmove\", this.move);\r\n            window.addEventListener(\"touchend\", this.up);\r\n        },\r\n        sliderMoveBtnMouseDown(event) {\r\n            this.startSlidingTime = new Date();\r\n            this.start = event.pageX;\r\n            this.startY = event.pageY;\r\n            event.target.style.backgroundPosition = \"-5px 31.0092%\"\r\n            window.addEventListener(\"mousemove\", this.move);\r\n            window.addEventListener(\"mouseup\", this.up);\r\n        },\r\n\r\n        move(event) {\r\n            if (event instanceof TouchEvent) {\r\n                event = event.touches[0];\r\n            }\r\n            let moveX = event.pageX - this.start;\r\n            let pageX = event.pageX;\r\n            let pageY = event.pageY;\r\n            this.trackArr.push({\r\n                x: pageX - this.start,\r\n                y: pageY - this.startY,\r\n                t: (new Date().getTime() - this.startSlidingTime.getTime())\r\n            });\r\n            if (moveX < 0) {\r\n                moveX = 0;\r\n            } else if (moveX > this.end) {\r\n                moveX = this.end;\r\n            }\r\n            this.sliderMoveBtn.style.transform = \"translate(\" + moveX + \"px, 0px)\"\r\n            this.sliderImgDiv.style.transform = \"translate(\" + moveX + \"px, 0px)\"\r\n            this.movePercent = moveX / this.bgImgWidth;\r\n        },\r\n        up() {\r\n            this.entSlidingTime = new Date();\r\n            window.removeEventListener(\"mousemove\", this.move);\r\n            window.removeEventListener(\"mouseup\", this.up);\r\n            this.valid();\r\n        },\r\n        valid() {\r\n            let sliderImgDiv = document.querySelector('.slider-img-div')\r\n            let imageCaptchaTrack = {\r\n                bgImageWidth: this.bgImgWidth,\r\n                bgImageHeight: sliderImgDiv.clientHeight,\r\n                sliderImageWidth: sliderImgDiv.clientWidth,\r\n                sliderImageHeight: sliderImgDiv.clientHeight,\r\n                startSlidingTime: this.startSlidingTime,\r\n                entSlidingTime: this.entSlidingTime,\r\n                trackList: this.trackArr\r\n            };\r\n            this.$emit('captchaTrack', imageCaptchaTrack)\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n.captcha-dialog .el-dialog__header {\r\n    display: none;\r\n}\r\n\r\n.bottom div {\r\n    margin-left: 10px;\r\n    float: right;\r\n}\r\n\r\n.bottom div i:hover {\r\n    color: #000000;\r\n    transition: all 0.3s;\r\n}\r\n\r\n.slider-move-btn-init {\r\n    background-position: -5px 11.79625%;\r\n    transform: translate(0px, 0px)\r\n}\r\n\r\n.slider-img-div-init {\r\n    transform: translate(0px, 0px)\r\n}\r\n\r\n.slider {\r\n    background-color: #fff;\r\n    width: 278px;\r\n    height: 272px;\r\n    z-index: 999;\r\n    box-sizing: border-box;\r\n    padding: 9px;\r\n    border-radius: 6px;\r\n    box-shadow: 0 0 11px 0 #999999;\r\n}\r\n\r\n.slider .content {\r\n    width: 100%;\r\n    height: 159px;\r\n    position: relative;\r\n    user-select: none;\r\n}\r\n\r\n.bg-img-div {\r\n    width: 100%;\r\n    height: 100%;\r\n    position: absolute;\r\n    transform: translate(0px, 0px);\r\n}\r\n\r\n.slider-img-div {\r\n    height: 100%;\r\n    position: absolute;\r\n    transform: translate(0px, 0px);\r\n}\r\n\r\n.bg-img-div img {\r\n    width: 100%;\r\n}\r\n\r\n.slider-img-div img {\r\n    height: 100%;\r\n}\r\n\r\n.slider .slider-move {\r\n    height: 54px;\r\n    width: 100%;\r\n    margin: 11px 0 0 0;\r\n    position: relative;\r\n}\r\n\r\n.slider .bottom {\r\n    height: 19px;\r\n    width: 100%;\r\n}\r\n\r\n.refresh-btn, .close-btn, .slider-move-track, .slider-move-btn {\r\n    background: url(https://static.geetest.com/static/ant/sprite.1.2.4.png) no-repeat;\r\n}\r\n\r\n.close-btn, .refresh-btn {\r\n    background: none\r\n}\r\n\r\n.refresh-btn, .close-btn {\r\n    display: inline-block;\r\n    font-size: 24px;\r\n    line-height: 24px;\r\n}\r\n\r\n.slider-move .slider-move-track {\r\n    line-height: 38px;\r\n    font-size: 14px;\r\n    text-align: center;\r\n    white-space: nowrap;\r\n    color: #88949d;\r\n    -moz-user-select: none;\r\n    -webkit-user-select: none;\r\n    user-select: none;\r\n}\r\n\r\n.slider {\r\n    user-select: none;\r\n}\r\n\r\n.slider-move .slider-move-btn {\r\n    transform: translate(0px, 0px);\r\n    background-position: -5px 11.79625%;\r\n    position: absolute;\r\n    top: -12px;\r\n    left: 0;\r\n    width: 66px;\r\n    height: 66px;\r\n}\r\n\r\n.slider-move-btn:hover, .close-btn:hover, .refresh-btn:hover {\r\n    cursor: pointer\r\n}\r\n\r\n.bottom .close-btn {\r\n    width: 20px;\r\n    height: 20px;\r\n    background-position: 0 44.86874%;\r\n}\r\n\r\n.bottom .refresh-btn {\r\n    width: 20px;\r\n    height: 20px;\r\n    background-position: 0 81.38425%;\r\n}\r\n</style>"]}]}
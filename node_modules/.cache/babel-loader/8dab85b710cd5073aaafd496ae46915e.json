{"remainingRequest":"D:\\dev\\house-price-generator\\node_modules\\babel-loader\\lib\\index.js!D:\\dev\\house-price-generator\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\dev\\house-price-generator\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\dev\\house-price-generator\\src\\components\\Captcha.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\dev\\house-price-generator\\src\\components\\Captcha.vue","mtime":1686118035791},{"path":"D:\\dev\\house-price-generator\\babel.config.js","mtime":1650273036000},{"path":"D:\\dev\\house-price-generator\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1686117401432},{"path":"D:\\dev\\house-price-generator\\node_modules\\babel-loader\\lib\\index.js","mtime":1686117404080},{"path":"D:\\dev\\house-price-generator\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1686117401432},{"path":"D:\\dev\\house-price-generator\\node_modules\\vue-loader\\lib\\index.js","mtime":1686117404688}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJDYXB0Y2hhIiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc3RhcnQ6IDAsCiAgICAgIHN0YXJ0WTogMCwKICAgICAgbW92ZVBlcmNlbnQ6IDAsCiAgICAgIGJnSW1nV2lkdGg6IDI2MCwKICAgICAgZW5kOiAyMDYsCiAgICAgIHN0YXJ0U2xpZGluZ1RpbWU6IG51bGwsCiAgICAgIGVudFNsaWRpbmdUaW1lOiBudWxsLAogICAgICB0cmFja0FycjogW10sCiAgICAgIGJhY2tncm91bmRJbWFnZTogJycsCiAgICAgIHNsaWRlckltYWdlOiAnJywKICAgICAgc2xpZGVyTW92ZUJ0bjogbnVsbCwKICAgICAgc2xpZGVySW1nRGl2OiBudWxsCiAgICB9OwogIH0sCiAgcHJvcHM6IHsKICAgIGNhcHRjaGFCYXNlT2JqOiBudWxsCiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5zbGlkZXJNb3ZlQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3NsaWRlci1tb3ZlLWJ0bicpOwogICAgdGhpcy5zbGlkZXJJbWdEaXYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjc2xpZGVyLWltZy1kaXYnKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHJlZnJlc2hDYXB0Y2hhOiBmdW5jdGlvbiByZWZyZXNoQ2FwdGNoYSgpIHsKICAgICAgdGhpcy4kZW1pdCgncmVmcmVzaENhcHRjaGEnKTsKICAgIH0sCiAgICBjbG9zZUNhcHRjaGE6IGZ1bmN0aW9uIGNsb3NlQ2FwdGNoYSgpIHsKICAgICAgdGhpcy4kZW1pdCgnY2xvc2VDYXB0Y2hhJyk7CiAgICB9LAogICAgcmVzZXQ6IGZ1bmN0aW9uIHJlc2V0KCkgewogICAgICB0aGlzLnNsaWRlck1vdmVCdG4uc3R5bGUuYmFja2dyb3VuZFBvc2l0aW9uID0gIi01cHggMTEuNzk2MjUlIjsKICAgICAgdGhpcy5zbGlkZXJNb3ZlQnRuLnN0eWxlLnRyYW5zZm9ybSA9ICJ0cmFuc2xhdGUoMHB4LCAwcHgpIjsKICAgICAgdGhpcy5zbGlkZXJJbWdEaXYuc3R5bGUudHJhbnNmb3JtID0gInRyYW5zbGF0ZSgwcHgsIDBweCkiOwogICAgICB0aGlzLnN0YXJ0ID0gMDsKICAgICAgdGhpcy5zdGFydFNsaWRpbmdUaW1lID0gbnVsbDsKICAgICAgdGhpcy5lbnRTbGlkaW5nVGltZSA9IG51bGw7CiAgICAgIHRoaXMudHJhY2tBcnIgPSBbXTsKICAgICAgdGhpcy5tb3ZlUGVyY2VudCA9IDA7CiAgICAgIHRoaXMuc3RhcnRZID0gMDsKICAgIH0sCiAgICBzbGlkZXJNb3ZlQnRuVG91Y2hzdGFydDogZnVuY3Rpb24gc2xpZGVyTW92ZUJ0blRvdWNoc3RhcnQoZXZlbnQpIHsKICAgICAgdmFyIHRhcmdldFRvdWNoZXMgPSBldmVudC5vcmlnaW5hbEV2ZW50ID8gZXZlbnQub3JpZ2luYWxFdmVudC50YXJnZXRUb3VjaGVzIDogZXZlbnQudGFyZ2V0VG91Y2hlczsKICAgICAgdGhpcy5zdGFydFNsaWRpbmdUaW1lID0gbmV3IERhdGUoKTsKICAgICAgdGhpcy5zdGFydCA9IGV2ZW50LnBhZ2VYOwogICAgICB0aGlzLnN0YXJ0WSA9IGV2ZW50LnBhZ2VZOwoKICAgICAgaWYgKHN0YXJ0ID09PSB1bmRlZmluZWQpIHsKICAgICAgICB0aGlzLnN0YXJ0ID0gdGFyZ2V0VG91Y2hlc1swXS5wYWdlWDsKICAgICAgICB0aGlzLnN0YXJ0WSA9IHRhcmdldFRvdWNoZXNbMF0ucGFnZVk7CiAgICAgIH0KCiAgICAgIHRoaXMuc2xpZGVyTW92ZUJ0bi5zdHlsZS5iYWNrZ3JvdW5kUG9zaXRpb24gPSAiLTVweCAzMS4wMDkyJSI7CiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJ0b3VjaG1vdmUiLCB0aGlzLm1vdmUpOwogICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigidG91Y2hlbmQiLCB0aGlzLnVwKTsKICAgIH0sCiAgICBzbGlkZXJNb3ZlQnRuTW91c2VEb3duOiBmdW5jdGlvbiBzbGlkZXJNb3ZlQnRuTW91c2VEb3duKGV2ZW50KSB7CiAgICAgIHRoaXMuc3RhcnRTbGlkaW5nVGltZSA9IG5ldyBEYXRlKCk7CiAgICAgIHRoaXMuc3RhcnQgPSBldmVudC5wYWdlWDsKICAgICAgdGhpcy5zdGFydFkgPSBldmVudC5wYWdlWTsKICAgICAgZXZlbnQudGFyZ2V0LnN0eWxlLmJhY2tncm91bmRQb3NpdGlvbiA9ICItNXB4IDMxLjAwOTIlIjsKICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNlbW92ZSIsIHRoaXMubW92ZSk7CiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJtb3VzZXVwIiwgdGhpcy51cCk7CiAgICB9LAogICAgbW92ZTogZnVuY3Rpb24gbW92ZShldmVudCkgewogICAgICBpZiAoZXZlbnQgaW5zdGFuY2VvZiBUb3VjaEV2ZW50KSB7CiAgICAgICAgZXZlbnQgPSBldmVudC50b3VjaGVzWzBdOwogICAgICB9CgogICAgICB2YXIgbW92ZVggPSBldmVudC5wYWdlWCAtIHRoaXMuc3RhcnQ7CiAgICAgIHZhciBwYWdlWCA9IGV2ZW50LnBhZ2VYOwogICAgICB2YXIgcGFnZVkgPSBldmVudC5wYWdlWTsKICAgICAgdGhpcy50cmFja0Fyci5wdXNoKHsKICAgICAgICB4OiBwYWdlWCAtIHRoaXMuc3RhcnQsCiAgICAgICAgeTogcGFnZVkgLSB0aGlzLnN0YXJ0WSwKICAgICAgICB0OiBuZXcgRGF0ZSgpLmdldFRpbWUoKSAtIHRoaXMuc3RhcnRTbGlkaW5nVGltZS5nZXRUaW1lKCkKICAgICAgfSk7CgogICAgICBpZiAobW92ZVggPCAwKSB7CiAgICAgICAgbW92ZVggPSAwOwogICAgICB9IGVsc2UgaWYgKG1vdmVYID4gdGhpcy5lbmQpIHsKICAgICAgICBtb3ZlWCA9IHRoaXMuZW5kOwogICAgICB9CgogICAgICB0aGlzLnNsaWRlck1vdmVCdG4uc3R5bGUudHJhbnNmb3JtID0gInRyYW5zbGF0ZSgiICsgbW92ZVggKyAicHgsIDBweCkiOwogICAgICB0aGlzLnNsaWRlckltZ0Rpdi5zdHlsZS50cmFuc2Zvcm0gPSAidHJhbnNsYXRlKCIgKyBtb3ZlWCArICJweCwgMHB4KSI7CiAgICAgIHRoaXMubW92ZVBlcmNlbnQgPSBtb3ZlWCAvIHRoaXMuYmdJbWdXaWR0aDsKICAgIH0sCiAgICB1cDogZnVuY3Rpb24gdXAoKSB7CiAgICAgIHRoaXMuZW50U2xpZGluZ1RpbWUgPSBuZXcgRGF0ZSgpOwogICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigibW91c2Vtb3ZlIiwgdGhpcy5tb3ZlKTsKICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoIm1vdXNldXAiLCB0aGlzLnVwKTsKICAgICAgdGhpcy52YWxpZCgpOwogICAgfSwKICAgIHZhbGlkOiBmdW5jdGlvbiB2YWxpZCgpIHsKICAgICAgdmFyIHNsaWRlckltZ0RpdiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zbGlkZXItaW1nLWRpdicpOwogICAgICB2YXIgaW1hZ2VDYXB0Y2hhVHJhY2sgPSB7CiAgICAgICAgYmdJbWFnZVdpZHRoOiB0aGlzLmJnSW1nV2lkdGgsCiAgICAgICAgYmdJbWFnZUhlaWdodDogc2xpZGVySW1nRGl2LmNsaWVudEhlaWdodCwKICAgICAgICBzbGlkZXJJbWFnZVdpZHRoOiBzbGlkZXJJbWdEaXYuY2xpZW50V2lkdGgsCiAgICAgICAgc2xpZGVySW1hZ2VIZWlnaHQ6IHNsaWRlckltZ0Rpdi5jbGllbnRIZWlnaHQsCiAgICAgICAgc3RhcnRTbGlkaW5nVGltZTogdGhpcy5zdGFydFNsaWRpbmdUaW1lLAogICAgICAgIGVudFNsaWRpbmdUaW1lOiB0aGlzLmVudFNsaWRpbmdUaW1lLAogICAgICAgIHRyYWNrTGlzdDogdGhpcy50cmFja0FycgogICAgICB9OwogICAgICB0aGlzLiRlbWl0KCdjYXB0Y2hhVHJhY2snLCBpbWFnZUNhcHRjaGFUcmFjayk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AA2BA;AAEA;AACAA,iBADA;AAEAC,MAFA,kBAEA;AACA;AACAC,cADA;AAEAC,eAFA;AAGAC,oBAHA;AAIAC,qBAJA;AAKAC,cALA;AAMAC,4BANA;AAOAC,0BAPA;AAQAC,kBARA;AASAC,yBATA;AAUAC,qBAVA;AAWAC,yBAXA;AAYAC;AAZA;AAeA,GAlBA;AAmBAC;AACAC;AADA,GAnBA;AAsBAC,SAtBA,qBAsBA;AACA;AACA;AACA,GAzBA;AA0BAC;AACAC,kBADA,4BACA;AACA;AACA,KAHA;AAIAC,gBAJA,0BAIA;AACA;AACA,KANA;AAOAC,SAPA,mBAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAjBA;AAmBAC,2BAnBA,mCAmBAC,KAnBA,EAmBA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;;AACA;AACAC;AACAA;AACA,KA/BA;AAgCAC,0BAhCA,kCAgCAF,KAhCA,EAgCA;AACA;AACA;AACA;AACAA;AACAC;AACAA;AACA,KAvCA;AAyCAE,QAzCA,gBAyCAH,KAzCA,EAyCA;AACA;AACAA;AACA;;AACA;AACA;AACA;AACA;AACAI,6BADA;AAEAC,8BAFA;AAGAC;AAHA;;AAKA;AACAC;AACA,OAFA,MAEA;AACAA;AACA;;AACA;AACA;AACA;AACA,KA7DA;AA8DAC,MA9DA,gBA8DA;AACA;AACAP;AACAA;AACA;AACA,KAnEA;AAoEAQ,SApEA,mBAoEA;AACA;AACA;AACAC,qCADA;AAEAC,gDAFA;AAGAC,kDAHA;AAIAC,oDAJA;AAKA5B,+CALA;AAMAC,2CANA;AAOA4B;AAPA;AASA;AACA;AAhFA;AA1BA","names":["name","data","start","startY","movePercent","bgImgWidth","end","startSlidingTime","entSlidingTime","trackArr","backgroundImage","sliderImage","sliderMoveBtn","sliderImgDiv","props","captchaBaseObj","mounted","methods","refreshCaptcha","closeCaptcha","reset","sliderMoveBtnTouchstart","event","window","sliderMoveBtnMouseDown","move","x","y","t","moveX","up","valid","bgImageWidth","bgImageHeight","sliderImageWidth","sliderImageHeight","trackList"],"sourceRoot":"src/components","sources":["Captcha.vue"],"sourcesContent":["<template>\r\n    <div class=\"slider\">\r\n\r\n        <div class=\"content\" v-loading=\"captchaBaseObj === null\">\r\n            <div class=\"bg-img-div\">\r\n                <img id=\"bg-img\" v-if=\"captchaBaseObj\" :src=\"captchaBaseObj.backgroundImage\" alt/>\r\n            </div>\r\n            <div class=\"slider-img-div\" id=\"slider-img-div\">\r\n                <img id=\"slider-img\" v-if=\"captchaBaseObj\" :src=\"captchaBaseObj.sliderImage\" alt/>\r\n            </div>\r\n        </div>\r\n        <div class=\"slider-move\">\r\n            <div class=\"slider-move-track\">拖动滑块完成拼图</div>\r\n            <div class=\"slider-move-btn\"\r\n                 @mousedown=\"sliderMoveBtnMouseDown\"\r\n                 @touchstart=\"sliderMoveBtnTouchstart\"\r\n                 id=\"slider-move-btn\"></div>\r\n        </div>\r\n        <div class=\"bottom\">\r\n            <div class=\"close-btn\" id=\"slider-close-btn\" @click=\"closeCaptcha\"><i class=\"el-icon-close\"></i></div>\r\n            <div class=\"refresh-btn\" id=\"slider-refresh-btn\" @click=\"refreshCaptcha\"><i\r\n                class=\"el-icon-refresh-right\"></i></div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\n\r\nexport default {\r\n    name: \"Captcha\",\r\n    data() {\r\n        return {\r\n            start: 0,\r\n            startY: 0,\r\n            movePercent: 0,\r\n            bgImgWidth: 260,\r\n            end: 206,\r\n            startSlidingTime: null,\r\n            entSlidingTime: null,\r\n            trackArr: [],\r\n            backgroundImage: '',\r\n            sliderImage: '',\r\n            sliderMoveBtn: null,\r\n            sliderImgDiv: null,\r\n\r\n        }\r\n    },\r\n    props: {\r\n        captchaBaseObj: null\r\n    },\r\n    mounted() {\r\n        this.sliderMoveBtn = document.querySelector('#slider-move-btn')\r\n        this.sliderImgDiv = document.querySelector('#slider-img-div')\r\n    },\r\n    methods: {\r\n        refreshCaptcha() {\r\n            this.$emit('refreshCaptcha')\r\n        },\r\n        closeCaptcha() {\r\n            this.$emit('closeCaptcha')\r\n        },\r\n        reset() {\r\n            this.sliderMoveBtn.style.backgroundPosition = \"-5px 11.79625%\"\r\n            this.sliderMoveBtn.style.transform = \"translate(0px, 0px)\"\r\n            this.sliderImgDiv.style.transform = \"translate(0px, 0px)\"\r\n            this.start = 0;\r\n            this.startSlidingTime = null;\r\n            this.entSlidingTime = null;\r\n            this.trackArr = [];\r\n            this.movePercent = 0;\r\n            this.startY = 0;\r\n        },\r\n\r\n        sliderMoveBtnTouchstart(event) {\r\n            let targetTouches = event.originalEvent ? event.originalEvent.targetTouches : event.targetTouches;\r\n            this.startSlidingTime = new Date();\r\n            this.start = event.pageX;\r\n            this.startY = event.pageY;\r\n            if (start === undefined) {\r\n                this.start = targetTouches[0].pageX\r\n                this.startY = targetTouches[0].pageY;\r\n            }\r\n            this.sliderMoveBtn.style.backgroundPosition = \"-5px 31.0092%\"\r\n            window.addEventListener(\"touchmove\", this.move);\r\n            window.addEventListener(\"touchend\", this.up);\r\n        },\r\n        sliderMoveBtnMouseDown(event) {\r\n            this.startSlidingTime = new Date();\r\n            this.start = event.pageX;\r\n            this.startY = event.pageY;\r\n            event.target.style.backgroundPosition = \"-5px 31.0092%\"\r\n            window.addEventListener(\"mousemove\", this.move);\r\n            window.addEventListener(\"mouseup\", this.up);\r\n        },\r\n\r\n        move(event) {\r\n            if (event instanceof TouchEvent) {\r\n                event = event.touches[0];\r\n            }\r\n            let moveX = event.pageX - this.start;\r\n            let pageX = event.pageX;\r\n            let pageY = event.pageY;\r\n            this.trackArr.push({\r\n                x: pageX - this.start,\r\n                y: pageY - this.startY,\r\n                t: (new Date().getTime() - this.startSlidingTime.getTime())\r\n            });\r\n            if (moveX < 0) {\r\n                moveX = 0;\r\n            } else if (moveX > this.end) {\r\n                moveX = this.end;\r\n            }\r\n            this.sliderMoveBtn.style.transform = \"translate(\" + moveX + \"px, 0px)\"\r\n            this.sliderImgDiv.style.transform = \"translate(\" + moveX + \"px, 0px)\"\r\n            this.movePercent = moveX / this.bgImgWidth;\r\n        },\r\n        up() {\r\n            this.entSlidingTime = new Date();\r\n            window.removeEventListener(\"mousemove\", this.move);\r\n            window.removeEventListener(\"mouseup\", this.up);\r\n            this.valid();\r\n        },\r\n        valid() {\r\n            let sliderImgDiv = document.querySelector('.slider-img-div')\r\n            let imageCaptchaTrack = {\r\n                bgImageWidth: this.bgImgWidth,\r\n                bgImageHeight: sliderImgDiv.clientHeight,\r\n                sliderImageWidth: sliderImgDiv.clientWidth,\r\n                sliderImageHeight: sliderImgDiv.clientHeight,\r\n                startSlidingTime: this.startSlidingTime,\r\n                entSlidingTime: this.entSlidingTime,\r\n                trackList: this.trackArr\r\n            };\r\n            this.$emit('captchaTrack', imageCaptchaTrack)\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n.captcha-dialog .el-dialog__header {\r\n    display: none;\r\n}\r\n\r\n.bottom div {\r\n    margin-left: 10px;\r\n    float: right;\r\n}\r\n\r\n.bottom div i:hover {\r\n    color: #000000;\r\n    transition: all 0.3s;\r\n}\r\n\r\n.slider-move-btn-init {\r\n    background-position: -5px 11.79625%;\r\n    transform: translate(0px, 0px)\r\n}\r\n\r\n.slider-img-div-init {\r\n    transform: translate(0px, 0px)\r\n}\r\n\r\n.slider {\r\n    background-color: #fff;\r\n    width: 278px;\r\n    height: 272px;\r\n    z-index: 999;\r\n    box-sizing: border-box;\r\n    padding: 9px;\r\n    border-radius: 6px;\r\n    box-shadow: 0 0 11px 0 #999999;\r\n}\r\n\r\n.slider .content {\r\n    width: 100%;\r\n    height: 159px;\r\n    position: relative;\r\n    user-select: none;\r\n}\r\n\r\n.bg-img-div {\r\n    width: 100%;\r\n    height: 100%;\r\n    position: absolute;\r\n    transform: translate(0px, 0px);\r\n}\r\n\r\n.slider-img-div {\r\n    height: 100%;\r\n    position: absolute;\r\n    transform: translate(0px, 0px);\r\n}\r\n\r\n.bg-img-div img {\r\n    width: 100%;\r\n}\r\n\r\n.slider-img-div img {\r\n    height: 100%;\r\n}\r\n\r\n.slider .slider-move {\r\n    height: 54px;\r\n    width: 100%;\r\n    margin: 11px 0 0 0;\r\n    position: relative;\r\n}\r\n\r\n.slider .bottom {\r\n    height: 19px;\r\n    width: 100%;\r\n}\r\n\r\n.refresh-btn, .close-btn, .slider-move-track, .slider-move-btn {\r\n    background: url(https://static.geetest.com/static/ant/sprite.1.2.4.png) no-repeat;\r\n}\r\n\r\n.close-btn, .refresh-btn {\r\n    background: none\r\n}\r\n\r\n.refresh-btn, .close-btn {\r\n    display: inline-block;\r\n    font-size: 24px;\r\n    line-height: 24px;\r\n}\r\n\r\n.slider-move .slider-move-track {\r\n    line-height: 38px;\r\n    font-size: 14px;\r\n    text-align: center;\r\n    white-space: nowrap;\r\n    color: #88949d;\r\n    -moz-user-select: none;\r\n    -webkit-user-select: none;\r\n    user-select: none;\r\n}\r\n\r\n.slider {\r\n    user-select: none;\r\n}\r\n\r\n.slider-move .slider-move-btn {\r\n    transform: translate(0px, 0px);\r\n    background-position: -5px 11.79625%;\r\n    position: absolute;\r\n    top: -12px;\r\n    left: 0;\r\n    width: 66px;\r\n    height: 66px;\r\n}\r\n\r\n.slider-move-btn:hover, .close-btn:hover, .refresh-btn:hover {\r\n    cursor: pointer\r\n}\r\n\r\n.bottom .close-btn {\r\n    width: 20px;\r\n    height: 20px;\r\n    background-position: 0 44.86874%;\r\n}\r\n\r\n.bottom .refresh-btn {\r\n    width: 20px;\r\n    height: 20px;\r\n    background-position: 0 81.38425%;\r\n}\r\n</style>"]}]}